(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),o=n(52),s=n.n(o),i=(n(64),n(2)),r=(n(65),n(5)),l=n(3),u=(n(66),[{ballIndex:"ball1",number:12},{ballIndex:"ball2",number:45},{ballIndex:"ball3",number:32},{ballIndex:"ball4",number:8},{ballIndex:"ball5",number:34}]),j=[{ballIndex:"ball6",number:54},{ballIndex:"ball7",number:31},{ballIndex:"ball8",number:47},{ballIndex:"ball9",number:1},{ballIndex:"ball0",number:27}],d=(n(67),function(){return Object(c.jsxs)(c.Fragment,{children:[u.map((function(e){return Object(c.jsx)("figure",{className:e.ballIndex+" ball",children:Object(c.jsx)("span",{className:"number number"+e.number,children:e.number})})})),j.map((function(e){return Object(c.jsx)("figure",{className:e.ballIndex+" ball",children:Object(c.jsx)("span",{className:"number number"+e.number,children:e.number})})}))]})}),b=function(e){return Object(c.jsxs)("div",{className:"hp-mainDiv",children:[Object(c.jsx)(d,{}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsxs)("div",{class:"tooltip",children:[Object(c.jsx)("i",{className:"fas fa-user fa-2x user-icon",onClick:e.showUser}),Object(c.jsx)("span",{class:"tooltiptext",children:"User Info"})]}),Object(c.jsxs)("div",{class:"tooltip",children:[Object(c.jsx)("div",{className:"instruction",children:Object(c.jsx)(r.b,{to:"/instruction",children:Object(c.jsx)("i",{className:"fa fa-3x fa-question-circle info-icon","aria-hidden":"true"})})}),Object(c.jsx)("span",{class:"tooltiptext",children:"How to play"})]}),Object(c.jsxs)("div",{class:"tooltip",children:[Object(c.jsx)("i",{class:"fas fa-sign-out-alt signout-icon fa-2x",onClick:e.handler}),Object(c.jsx)("span",{class:"tooltiptext",children:"Log Out"})]})]}),Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h1",{children:"HOUSIE"})}),Object(c.jsxs)("div",{className:"roomBtn",children:[Object(c.jsx)(r.b,{to:"/create-room",children:Object(c.jsx)("button",{children:"Create Room"})}),Object(c.jsx)(r.b,{to:"/join-room",children:Object(c.jsx)("button",{children:"Join Room"})})]})]})},m=(n(72),Object(l.e)((function(e){var t=localStorage.getItem("username"),n=Object(a.useState)(),o=Object(i.a)(n,2),s=o[0],l=o[1],u=Object(a.useState)(),j=Object(i.a)(u,2),b=j[0],m=j[1],O=Object(a.useState)(!1),h=Object(i.a)(O,2),f=h[0],x=h[1],g=function(){var e=Math.floor(1e5+9e5*Math.random());return m(e),e};return Object(c.jsxs)("div",{className:"cr-mainDiv blue-bg",children:[Object(c.jsx)(d,{}),Object(c.jsx)("div",{className:"jr-title",children:"Create Room"}),Object(c.jsxs)("div",{className:"cr-container",children:[f?Object(c.jsx)("div",{className:"code",children:b}):null,f?Object(c.jsx)(r.b,{to:"/game-room/"+s,children:Object(c.jsx)("button",{children:"Enter"})}):Object(c.jsx)("button",{onClick:function e(){g(),x(!0),console.log(t),fetch("http://localhost:8000/gameroom",{method:"POST",body:JSON.stringify({name:g(),username:t}),headers:{Authorization:"Bearer "+localStorage.getItem("CC_TOKEN"),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e._id)})).catch((function(t){setTimeout(e,3e3)}))},children:"Generate Code"})]})]})}))),O=(n(73),n(8)),h=function(e){var t=Object(a.useState)(["","","","","",""]),n=Object(i.a)(t,2),o=n[0],s=n[1],l=Object(a.useState)(),u=Object(i.a)(l,2),j=u[0],d=u[1],b=function(e,t){var n=Object(O.a)(o);n[t]=e.target.value,s(n)},m=Object(a.useState)(),h=Object(i.a)(m,2),f=h[0],x=h[1];return Object(c.jsxs)("div",{className:"rc-container",children:[Object(c.jsx)("h2",{className:"rc-title",children:"Enter Room Code"}),Object(c.jsxs)("div",{className:"code-container",children:[Object(c.jsx)("input",{type:"text",maxLength:"1",id:"1",autoFocus:!0,onKeyUpCapture:function(e){8===e.keyCode?document.getElementById("1").focus():document.getElementById("2").focus()},autocomplete:"off",className:"brown-bg",onChange:function(e){return b(e,0)},value:o[0]}),Object(c.jsx)("input",{type:"text",maxLength:"1",id:"2",autocomplete:"off",onKeyUpCapture:function(e){8===e.keyCode?document.getElementById("1").focus():document.getElementById("3").focus()},className:"brown-bg",onChange:function(e){return b(e,1)},value:o[1]}),Object(c.jsx)("input",{type:"text",maxLength:"1",id:"3",autocomplete:"off",onKeyUpCapture:function(e){8===e.keyCode?document.getElementById("2").focus():document.getElementById("4").focus()},className:"brown-bg",onChange:function(e){return b(e,2)},value:o[2]}),Object(c.jsx)("input",{type:"text",maxLength:"1",id:"4",autocomplete:"off",onKeyUpCapture:function(e){8===e.keyCode?document.getElementById("3").focus():document.getElementById("5").focus()},className:"brown-bg",onChange:function(e){return b(e,3)},value:o[3]}),Object(c.jsx)("input",{type:"text",maxLength:"1",id:"5",autocomplete:"off",onKeyUpCapture:function(e){8===e.keyCode?document.getElementById("4").focus():document.getElementById("6").focus()},className:"brown-bg",onChange:function(e){return b(e,4)},value:o[4]}),Object(c.jsx)("input",{type:"text",maxLength:"1",id:"6",className:"brown-bg",autocomplete:"off",onChange:function(e){return b(e,5)},onKeyUpCapture:function(e){8===e.keyCode&&document.getElementById("5").focus()},value:o[5],onKeyUp:function(){var e=o.join("");fetch("http://localhost:8000/gameroom/getRoom",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("CC_TOKEN"),name:e}}).then((function(e){return e.json()})).then((function(e){if(e.error)throw"error";e.id&&(x(e.id),d(""))})).catch((function(e){d("Gameroom does not exist.")}))}})]}),j?Object(c.jsx)("div",{className:"error",children:j}):null,Object(c.jsxs)("div",{className:"jr-buttons",children:[Object(c.jsx)(r.b,{to:"/game-room/"+f,children:Object(c.jsx)("button",{disabled:!f,children:"Enter Room"})}),Object(c.jsx)("button",{onClick:e.handler,children:"Active Rooms"})]})]})},f=Object(l.e)((function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),o=n[0],s=n[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),j=u[0],b=u[1];return Object(c.jsxs)("div",{className:"jr-mainDiv blue-bg",children:[Object(c.jsx)(d,{}),Object(c.jsx)("div",{className:"jr-title",children:"Join Room"}),j?Object(c.jsx)("div",{className:"gamerooms",children:o.map((function(e){return Object(c.jsxs)("div",{className:"gameroom",children:[Object(c.jsx)("p",{className:"code jr-code",children:e.name}),Object(c.jsx)(r.b,{to:"/game-room/"+e._id,children:Object(c.jsxs)("button",{className:"join-btn",children:["Join ",Object(c.jsx)("i",{class:"fa fa-arrow-right","aria-hidden":"true"})]})})]})}))}):Object(c.jsx)(h,{handler:function e(){b(!0),fetch("http://localhost:8000/gameroom",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("CC_TOKEN")}}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(t){setTimeout(e,3e3)}))}})]})})),x=n(54),g=n(55),p=n(58),v=n(57),N=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(x.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={count:1},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){document.title="You have clicked button ".concat(this.state.count," times")}},{key:"componentDidUpdate",value:function(){document.title="You have clicked button ".concat(this.state.count," times")}},{key:"render",value:function(){var e=this;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{style:{color:"red"},children:this.props.children}),Object(c.jsx)("p",{children:this.state.count}),Object(c.jsx)("button",{onClick:function(){e.setState({count:e.state.count+1})},children:"Click"})]})}}]),n}(a.Component),C=(n(74),function(e){return Object(c.jsxs)("div",{className:"box",children:[Object(c.jsx)("h1",{className:"register-heading",children:"Don't have an account?"}),Object(c.jsx)("div",{className:"signup-btn",onClick:e.signup,children:"Register"})]})}),k=function(e){return Object(c.jsxs)("div",{className:"form",children:[Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("i",{className:"fa fa-user icon"}),Object(c.jsx)("input",{type:"text",placeholder:"Enter Username",value:e.userName,onChange:e.userNamechangeHandler,className:"input_field"})]}),Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("i",{className:"fa fa-key icon","aria-hidden":"true"}),Object(c.jsx)("input",{type:"password",placeholder:"Enter Password",value:e.password,onChange:e.passwordchangeHandler,className:"input_field"})]}),e.err?Object(c.jsx)("div",{className:"error",children:e.err}):null]})},y=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],s=n[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),u=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),m=b[0],O=b[1];console.log(e.err);return Object(c.jsxs)("div",{className:"mainDiv",children:[Object(c.jsx)("h1",{className:"fp-title",children:"Welcome to Housie"}),Object(c.jsxs)("div",{className:"fp-div",children:[Object(c.jsxs)("div",{className:"login",children:[m?Object(c.jsx)("h1",{className:"heading",children:"Register"}):Object(c.jsx)("h1",{className:"heading",children:"Log In"}),Object(c.jsx)(k,{userName:o,password:u,userNamechangeHandler:function(e){return function(e){s(e.target.value)}(e)},passwordchangeHandler:function(e){return function(e){j(e.target.value)}(e)},err:e.err}),m?Object(c.jsxs)("div",{className:"login-signup",id:"btn",onClick:function(){O(!1),e.signupHandler(o,u)},children:["Register",Object(c.jsx)("div",{id:"circle"})]}):Object(c.jsxs)("div",{className:"login-signup",id:"btn",onClick:function(){return e.loginHandler(o,u)},children:["Log In",Object(c.jsx)("div",{id:"circle"})]})]}),Object(c.jsx)("div",{className:"signup",children:m?null:Object(c.jsx)(C,{showSignup:m,signup:function(){return O(!0)}})})]})]})},S=(n(75),n(76),n.p,n(77),function(e){var t=e.socket,n=Object(a.useState)([]),o=Object(i.a)(n,2),s=o[0],r=o[1];return Object(a.useEffect)((function(){t&&t.on("players",(function(e){r(e.players)}))}),[s]),Object(c.jsxs)("div",{className:"players",children:[Object(c.jsx)("div",{className:"players-title",children:"Players"}),s.map((function(e){return Object(c.jsxs)("div",{className:"player",children:[Object(c.jsx)("i",{className:"fas fa-user fa-2x"}),Object(c.jsx)("div",{children:e})]})}))]})}),I=n(56),w=n.n(I),E=function(){return Object(c.jsx)(w.a,{})},T=Object(l.e)((function(e){var t=e.match,n=e.socket,o=Object(a.useState)(""),s=Object(i.a)(o,2),r=(s[0],s[1]),l=Object(a.useState)(!1),u=Object(i.a)(l,2),j=u[0],d=u[1],b=t.params.id,m=Object(a.useState)([]),h=Object(i.a)(m,2),f=h[0],x=h[1],g=Object(a.useState)(),p=Object(i.a)(g,2),v=p[0],N=p[1],C=Object(a.useState)([]),k=Object(i.a)(C,2),y=k[0],I=k[1],w=Object(a.useState)(!1),T=Object(i.a)(w,2),B=T[0],K=T[1],U=Object(a.useState)(!1),_=Object(i.a)(U,2),H=_[0],L=_[1],F=Object(a.useState)(["notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked"]),R=Object(i.a)(F,2),D=R[0],J=R[1],P=Object(a.useState)(["notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked"]),A=Object(i.a)(P,2),G=A[0],z=A[1],M=Object(a.useState)(["notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked","notClicked"]),W=Object(i.a)(M,2),Y=W[0],q=W[1];Object(a.useEffect)((function(){n&&n.on("timerStarted",(function(e){K(!0),N(e.time)}))}),[v]),Object(a.useEffect)((function(){return window.addEventListener("beforeunload",V),function(){window.removeEventListener("beforeunload",V)}}),[]);var V=function(e){e.preventDefault(),e.returnValue=""},Q=Object(a.useState)([]),X=Object(i.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)([]),te=Object(i.a)(ee,2),ne=te[0],ce=te[1],ae=Object(a.useState)([]),oe=Object(i.a)(ae,2),se=oe[0],ie=oe[1];Object(a.useEffect)((function(){fetch("http://localhost:8000/gameroom/ticket",{method:"POST",body:JSON.stringify({id:b}),headers:{Authorization:"Bearer "+localStorage.getItem("CC_TOKEN"),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=Object(O.a)(e.ticket),n=t[0],c=t[1],a=t[2];$(n),ce(c),ie(a)}))}),[]),Object(a.useEffect)((function(){n&&n.on("admin",(function(e){d(e.isadmin)}))}),[]),Object(a.useEffect)((function(){var e=localStorage.getItem("CC_TOKEN");if(e){var t=JSON.parse(atob(e.split(".")[1]));r(t.id)}return n&&n.emit("joinroom",{gameroomid:b}),function(){n&&n.emit("leaveroom",{gameroomid:b})}}),[]);var re=function(e,t,n){var c=Number(e.target.innerText);if(B&&!y.includes(c)){if(c===v){var a=Object(O.a)(f);a.push(c),x(a)}else{var o=Object(O.a)(y);o.push(c),I(o)}if("row1"===n){var s=Object(O.a)(D);s[t]="cross",J(s)}if("row2"===n){var i=Object(O.a)(G);i[t]="cross",z(i)}if("row3"===n){var r=Object(O.a)(Y);r[t]="cross",q(r)}}};return Object(c.jsxs)("div",{className:"gr-mainDiv blue-bg",children:[Object(c.jsxs)("div",{className:"countdown-timer",children:[j?B?null:Object(c.jsx)("div",{className:"claim-button",children:Object(c.jsx)("button",{onClick:function(){n&&n.emit("startTimer",{gameroomid:b})},children:"Start Game"})}):Object(c.jsx)("div",{className:"title",children:"Wait for Admin to start the game"}),v?Object(c.jsx)("div",{className:"calledNumber ball brown-bg",children:v}):null]}),Object(c.jsx)(S,{socket:n}),Object(c.jsxs)("div",{className:"ticket-container",children:[Object(c.jsx)("div",{className:"row",children:Z.map((function(e,t){return 100===e?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"ticket-box ".concat(D[t])})}):Object(c.jsx)("div",{onClick:function(e){return re(e,t,"row1")},className:"ticket-box ".concat(D[t]),children:Object(c.jsx)("figure",{className:"ticket-ball code",children:e})})}))}),Object(c.jsxs)("div",{className:"row",children:[" ",ne.map((function(e,t){return 100===e?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"ticket-box ".concat(G[t])})}):Object(c.jsx)("div",{onClick:function(e){return re(e,t,"row2")},className:"ticket-box ".concat(G[t]),children:Object(c.jsx)("figure",{className:"ticket-ball code",children:e})})}))]}),Object(c.jsxs)("div",{className:"row",children:[" ",se.map((function(e,t){return 100===e?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"ticket-box ".concat(Y[t])})}):Object(c.jsx)("div",{onClick:function(e){return re(e,t,"row3")},className:"ticket-box ".concat(Y[t]),children:Object(c.jsx)("figure",{className:"ticket-ball code",children:e})})}))]})]}),H?Object(c.jsx)(E,{}):null,Object(c.jsx)("div",{className:"claim-button",children:Object(c.jsx)("button",{onClick:function(){return function(){var e=Object(O.a)(f);e.length<15||e.filter((function(e){return!Z.includes(e)&&!ne.includes(e)&&!se.includes(e)}))?alert("not won"):(L(!0),alert("You Won"))}()},children:"Claim Full House"})})]})})),B=n(78);var K=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(void 0),u=Object(i.a)(s,2),j=u[0],d=u[1],O=Object(a.useState)(null),h=Object(i.a)(O,2),x=h[0],g=h[1],p=function e(){if(localStorage.getItem("CC_TOKEN")&&!x){var t={"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"],query:{token:localStorage.getItem("CC_TOKEN")}},n=B("http://localhost:8000",t);n.on("disconnect",(function(){g(null),setTimeout(e,3e3)})),n.on("connection",(function(){console.log("Socket connected")})),g(n)}};return Object(a.useEffect)((function(){p()}),[]),Object(a.useEffect)((function(){localStorage.getItem("CC_TOKEN")&&o(!0)}),[]),Object(c.jsx)("div",{className:"main",children:n?Object(c.jsxs)(r.a,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(b,{handler:function(){localStorage.removeItem("CC_TOKEN"),o(!1)}})}),Object(c.jsx)(l.a,{exact:!0,path:"/create-room",children:Object(c.jsx)(m,{socket:x})}),Object(c.jsx)(l.a,{exact:!0,path:"/join-room",children:Object(c.jsx)(f,{socket:x})}),Object(c.jsx)(l.a,{exact:!0,path:"/instruction",children:Object(c.jsx)(N,{name:"gayu",socket:x,children:"Heyy There"})}),Object(c.jsx)(l.a,{path:"/game-room/:id",render:function(){return Object(c.jsx)(T,{socket:x})},exact:!0})]}):Object(c.jsx)(y,{loginHandler:function(e,t){fetch("http://localhost:8000/user/login",{method:"POST",body:JSON.stringify({name:e,password:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){"Username/Password did not match"===t.message?d(t.message):(localStorage.setItem("username",e),localStorage.setItem("CC_TOKEN",t.token),o(!0),p())}))},signupHandler:function(e,t){fetch("http://localhost:8000/user/register",{method:"POST",body:JSON.stringify({name:e,password:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"User registered successfully"!==e.message&&d(e.message)}))},err:j})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(c.jsx)(K,{}),document.getElementById("root")),U()},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.05ddc58a.chunk.js.map